---
title: "p5.jsã§ã‚ªãƒªã‚¸ãƒŠãƒ«ãƒ•ã‚©ãƒ³ãƒˆã‚’æ–‡å­—èªè­˜ï¼†ãƒ‡ã‚³ãƒ¼ãƒ‰ã™ã‚‹"
---

ã“ã®Chapterã§ã¯ã€å¾—ã‚‰ã‚ŒãŸå­¦ç¿’æ¸ˆãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ã£ã¦æ–‡å­—èªè­˜ãŒã§ãã‚‹ãƒ„ãƒ¼ãƒ«ã‚’ä½œæˆã—ãŸã„ã€‚ãƒ„ãƒ¼ãƒ«ã¯ã©ã‚“ãªç’°å¢ƒã§ã‚‚ã‚ˆã„ã®ã ãŒã€åˆå­¦è€…ã«ã‚‚ä½¿ã„ã‚„ã™ã„`p5.js`ã‚’ä½¿ã£ã¦ãƒ„ãƒ¼ãƒ«ã‚’ä½œã£ã¦ã„ãã“ã¨ã«ã™ã‚‹ã€‚

æœ€çµ‚çš„ãªæˆæœç‰©ã¨ã—ã¦ã¯ã€ä»¥ä¸‹ã«ã‚ã‚‹ã‚ˆã†ãª`index.html`, `mySketch.js`ãŒã§ãã‚ãŒã‚‹ã‚¤ãƒ¡ãƒ¼ã‚¸ã€‚
https://github.com/tetunori/ztmy-font-decoder/tree/main
ãªãŠã€[GitHub Pagesã«ãŠè©¦ã—ã§ãã‚‹ç’°å¢ƒ](tetunori.github.io/ztmy-font-decoder/)ã‚’ç”¨æ„ã—ã¦ã„ã‚‹ã€‚

# ãƒ„ãƒ¼ãƒ«ã®æ©Ÿèƒ½æ¦‚è¦(ä½¿ã„æ–¹)
## ã‚«ãƒ¡ãƒ©ã‚’ä½¿ã£ã¦è§£æã™ã‚‹å ´åˆ
1. [ztmy-font-decoder](https://tetunori.github.io/ztmy-font-decoder/)ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã€‚
2. ç”»é¢ä¸ŠåŠåˆ†ã®ğŸ“·ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¿ãƒƒãƒ—ã™ã‚‹ã€‚
3. è§£æã—ãŸã„éƒ¨åˆ†ã‚’ã‚¿ãƒƒãƒã§é¸æŠã™ã‚‹ã¨ã€ç”»é¢ä¸‹åŠåˆ†ã«è§£æçµæœãŒè¡¨ç¤ºã•ã‚Œã‚‹ã€‚

## ç”»åƒã‹ã‚‰è§£æã™ã‚‹å ´åˆ
1. [ztmy-font-decoder](https://tetunori.github.io/ztmy-font-decoder/)ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã€‚
2. ç”»é¢ä¸‹åŠåˆ†ã®ğŸ“ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¿ãƒƒãƒ—ã—ã¦ã€è§£æã™ã‚‹ç”»åƒã‚’é¸æŠã™ã‚‹ã€‚
3. è§£æã—ãŸã„éƒ¨åˆ†ã‚’ã‚¿ãƒƒãƒã§é¸æŠã™ã‚‹ã¨ã€ç”»é¢ä¸‹åŠåˆ†ã«è§£æçµæœãŒè¡¨ç¤ºã•ã‚Œã‚‹ã€‚

ãªãŠã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã¾ã¾ã§è§£æã§ãã‚‹ã‚±ãƒ¼ã‚¹ã¯ã»ã¨ã‚“ã©ãªã„ã®ã§ã€å³ä¸Šã®ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã‹ã‚‰èª¿æ•´ã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã„ã‚‹ã€‚
- ç™½é»’ç”»åƒåŒ–ã¨ã—ãã„å€¤è¨­å®š
- (ä¸Šè¨˜ã®)è¨­å®šã®ãƒªã‚»ãƒƒãƒˆ
- [ztmy-font-tester](https://github.com/tetunori/ztmy-font-tester/)ã¸ã®ç§»å‹•

# ä½¿ç”¨ã™ã‚‹å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
ä¸Šè¨˜æ©Ÿèƒ½ã‚’å®Ÿç¾ã™ã‚‹ã«ã‚ãŸã‚Šã€ä¸‹è¨˜ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ã—ãŸã€‚
- [p5.js](https://github.com/processing/p5.js): `Processing`ã®JavaScriptç‰ˆã€‚æœ¬æ›¸ã§ã¯èª¬æ˜ã¯å‰²æ„›ã™ã‚‹ã®ã§ã€å¿…è¦ãªå ´åˆã¯[æœ¬å®¶ã®Tutorial](https://p5js.org/tutorials/)ã‚’è¦‹ã‚‹ã“ã¨
- [tesseract.js](https://github.com/naptha/tesseract.js): `Tesseract`ã‚’JavaScriptã‹ã‚‰ä½¿ç”¨ã§ãã‚‹ã‚ˆã†ã«ã—ã¦ãã‚Œã‚‹ç¥ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã€‚å¿…è¦ã«å¿œã˜ã¦[APIä»•æ§˜ã®ãƒšãƒ¼ã‚¸](https://github.com/naptha/tesseract.js/blob/master/docs/api.md)ã‚’è¦‹ã‚‹ã€‚
- [dat.gui](https://github.com/dataarts/dat.gui): GUIã§å¤‰æ•°ã®èª¿æ•´ç­‰ã‚’è¡Œã†ãŸã‚ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒª

# ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®ãƒã‚¤ãƒ³ãƒˆ

## `Tesseract`ã®ä½¿ã„æ–¹
å‰ã®Chapterã§å¾—ã‚‰ã‚ŒãŸå­¦ç¿’æ¸ˆãƒ‡ãƒ¼ã‚¿`ztmy.traineddata`ã¯`tesseract`ãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œã‚Šã€ãã®ä¸­ã¸ã‚³ãƒ”ãƒ¼ã—ã¦ãŠãã€‚
ã¾ãšã¯ã€`preload`é–¢æ•°å†…ã§`Tesseract`ã®workerã‚’æº–å‚™ã™ã‚‹ã€‚
```JavaScript
let tessWorker = undefined;

function preload() {
  // Prepare Tesseract for ZTMY font
  (async () => {
    tessWorker = await Tesseract.createWorker('ztmy', 0, {
      langPath: './tesseract/',
      gzip: false,
    });
  })();
}
```
loadãŒå®Œäº†ã—ãŸå¾Œã¯ã€èªè­˜ã—ãŸã„ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ä»¥ä¸‹ã‚’å‘¼ã³å‡ºã™ã ã‘ã§ã€èªè­˜çµæœã®ãƒ†ã‚­ã‚¹ãƒˆã‚’å¾—ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚
```JavaScript
  const ret = await tessWorker.recognize(image);
  console.log(ret.data.text);  // èªè­˜çµæœã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹
```
[`tessWorker.recognize`](https://github.com/naptha/tesseract.js/blob/master/docs/api.md#worker-recognize)ã¯ã¨ã¦ã‚‚å¼·åŠ›ãªé–¢æ•°ã§ã€imageã®éƒ¨åˆ†ã¯bmp, jpgãªã©ã®ç”»åƒã¯ã‚‚ã¡ã‚ã‚“ã®ã“ã¨ã€`File`ã‚„`Blob`ã€`img`ã‚„`canvas`ãªã©[å¹…åºƒã„ã‚½ãƒ¼ã‚¹](https://github.com/naptha/tesseract.js/blob/master/docs/image-format.md)ã‚’é¸æŠã§ãã‚‹ã€‚

## 

